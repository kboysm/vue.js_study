(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{403:function(e,t,n){"use strict";n.r(t);n(58);var r=n(21),o=(n(356),{data:function(){return{headers:[{text:"id",value:"id"},{text:"생성일",value:"createAt"},{text:"제목",value:"title"},{text:"내용",value:"content"},{text:"action",value:"action"}],items:[],dialog:!1,mode:"create",form:{title:"",content:""},selectItem:null}},mounted:function(){this.read()},methods:{openDialog:function(e,t){this.mode=e,"create"===e?(this.form.title="",this.form.content=""):(this.form.title=t.title,this.form.content=t.content,this.selectItem=t),this.dialog=!0},create:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object.assign(e.form)).createAt=new Date,t.next=4,e.$db.collection("board").add(n);case 4:return s=t.sent,console.log(s),e.dialog=!1,t.next=9,e.read();case 9:case"end":return t.stop()}}),t)})))()},read:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$db.collection("board").get();case 2:s=t.sent,e.items=[],s.forEach((function(t){var n=t.data(),r={id:t.id,createAt:n.createAt.toDate().toLocaleString(),title:n.title,content:n.content};e.items.push(r)}));case 5:case"end":return t.stop()}}),t)})))()},update:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$db.collection("board").doc(e.selectItem.id).update(e.form);case 2:return e.dialog=!1,t.next=5,e.read();case 5:case"end":return t.stop()}}),t)})))()},remove:function(p){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$db.collection("board").doc(p.id).delete();case 2:return t.next=4,e.read();case 4:case"end":return t.stop()}}),t)})))()}}}),c=n(55),l=n(81),d=n.n(l),v=n(138),m=n(317),f=n(316),_=n(400),x=n(398),h=n(333),k=n(118),w=n(313),V=n(323),R=n(336),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("firebase->crud")]),e._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.id))]),e._v(" "),n("td",[e._v(e._s(t.item.createAt))]),e._v(" "),n("td",[e._v(e._s(t.item.title))]),e._v(" "),n("td",[e._v(e._s(t.item.content))])]}},{key:"item.action",fn:function(t){return[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.openDialog("update",t.item)}}},[n("v-icon",[e._v(" mdi-pencil")])],1),e._v(" "),n("v-btn",{attrs:{icon:"",small:""},on:{click:function(n){return e.remove(t.item)}}},[n("v-icon",[e._v(" mdi-delete")])],1)]}}])}),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{on:{click:function(t){return e.openDialog("create")}}},[e._v("글쓰기")])],1),e._v(" "),n("v-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[e._v("쓰기 및 수정")]),e._v(" "),n("v-card-text",[n("v-form",[n("v-text-field",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),e._v(" "),n("v-textarea",{model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),"create"===e.mode?n("v-btn",{on:{click:e.create}},[e._v("작성")]):n("v-btn",{on:{click:e.update}},[e._v("수정")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBtn:v.a,VCard:m.a,VCardActions:f.a,VCardText:f.b,VCardTitle:f.c,VDataTable:_.a,VDialog:x.a,VForm:h.a,VIcon:k.a,VSpacer:w.a,VTextField:V.a,VTextarea:R.a})}}]);